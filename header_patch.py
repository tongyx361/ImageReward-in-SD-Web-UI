        with gr.Box(visible=is_spaces):
            if(is_spaces and is_shared_ui):
                gr.HTML(f'''
<div class="gr-prose" style="max-width: 80%">
<p align="center"><a href="https://github.com/THUDM/ImageReward">Github Repo</a> • 🤗 <a href="https://huggingface.co/THUDM/ImageReward" target="_blank">HF Repo</a> • 🐦 <a href="https://twitter.com/thukeg" target="_blank">Twitter</a> • 📃 <a href="https://arxiv.org/abs/2304.05977" target="_blank">Paper</a><br></p>
<p dir="auto">ImageReward is the first general-purpose text-to-image <strong>human preference RM</strong>, which is trained on in total <strong>137k pairs of expert comparisons</strong>!</p>
<br>
<p dir="auto">Try ImageReward in SD Web UI with only 2 steps:</p>
<ol dir="auto">
<li>Select <strong>"ImageReward - generate human preference scores"</strong> from the <strong>"Script"</strong> dropdown menu in the lower left corner.</li>
<li>Click the <strong>"Generate"</strong> button to generate images.</li>
</ol>
<p dir="auto">After generation finishes, check the ImageReward at the <strong>bottom</strong> of the image information <strong>below the gallery</strong>.</p>
<br>
<p dir="auto">For more details about using ImageReward in your program or your own SD Web UI, check <a href="https://github.com/THUDM/ImageReward">the README.md in our Github Repo</a></p>
<br>
<p dir="auto">This Space demo is based on <a href="https://huggingface.co/spaces/camenduru/webui">camenderu/webui</a>, running model: Linaqruf/anything-v3.0</p>
<p dir="auto">You can duplicate this Space to run it privately without a queue and load additional checkpoints.&nbsp;&nbsp;<a class="duplicate-button" style="display:inline-block" target="_blank" href="https://huggingface.co/spaces/{os.environ['SPACE_ID']}?duplicate=true"><img style="margin: 0" src="https://img.shields.io/badge/-Duplicate%20Space-blue?labelColor=white&style=flat&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAP5JREFUOE+lk7FqAkEURY+ltunEgFXS2sZGIbXfEPdLlnxJyDdYB62sbbUKpLbVNhyYFzbrrA74YJlh9r079973psed0cvUD4A+4HoCjsA85X0Dfn/RBLBgBDxnQPfAEJgBY+A9gALA4tcbamSzS4xq4FOQAJgCDwV2CPKV8tZAJcAjMMkUe1vX+U+SMhfAJEHasQIWmXNN3abzDwHUrgcRGmYcgKe0bxrblHEB4E/pndMazNpSZGcsZdBlYJcEL9Afo75molJyM2FxmPgmgPqlWNLGfwZGG6UiyEvLzHYDmoPkDDiNm9JR9uboiONcBXrpY1qmgs21x1QwyZcpvxt9NS09PlsPAAAAAElFTkSuQmCC&logoWidth=14" alt="Duplicate Space"></a></p> 
<p dir="auto">📝 How to add private model or embed? 📺 Tutorial Video: <a href="https://youtu.be/jpxWRMino6c" style="target=" _blank"="">https://youtu.be/jpxWRMino6c</a> 🐣 Please follow me for new updates <a href="https://twitter.com/camenduru" style="target=" _blank"="">https://twitter.com/camenduru</a> </p>
</div>
''')
            elif(is_spaces):
                import torch
                if(not torch.cuda.is_available()):
                    gr.HTML(f'''
<div class="gr-prose" style="max-width: 80%">
<p><strong>WARNING</strong>: This Space is currently running on CPU, but this Web UI may not run on CPU 🥶, you can upgrade for a GPU <a href="https://huggingface.co/spaces/{os.environ['SPACE_ID']}/settings" style="text-decoration: underline" target="_blank">in the Settings tab</a></p>
<p align="center"><a href="https://github.com/THUDM/ImageReward">Github Repo</a> • 🤗 <a href="https://huggingface.co/THUDM/ImageReward" target="_blank">HF Repo</a> • 🐦 <a href="https://twitter.com/thukeg" target="_blank">Twitter</a> • 📃 <a href="https://arxiv.org/abs/2304.05977" target="_blank">Paper</a><br></p>
<p dir="auto">ImageReward is the first general-purpose text-to-image <strong>human preference RM</strong>, which is trained on in total <strong>137k pairs of expert comparisons</strong>!</p>
<br>
<p dir="auto">Try ImageReward in SD Web UI with only 2 steps:</p>
<ol dir="auto">
<li>Select <strong>"ImageReward - generate human preference scores"</strong> from the <strong>"Script"</strong> dropdown menu in the lower left corner.</li>
<li>Click the <strong>"Generate"</strong> button to generate images.</li>
</ol>
<p dir="auto">After generation finishes, check the ImageReward at the <strong>bottom</strong> of the image information <strong>below the gallery</strong>.</p>
<br>
<p dir="auto">For more details about using ImageReward in your program or your own SD Web UI, check <a href="https://github.com/THUDM/ImageReward">the README.md in our Github Repo</a></p>
<br>
<p dir="auto">This Space demo is based on <a href="https://huggingface.co/spaces/camenduru/webui">camenderu/webui</a>, running model: Linaqruf/anything-v3.0</p>
<p dir="auto">You can duplicate this Space to run it privately without a queue and load additional checkpoints.&nbsp;&nbsp;<a class="duplicate-button" style="display:inline-block" target="_blank" href="https://huggingface.co/spaces/{os.environ['SPACE_ID']}?duplicate=true"><img style="margin: 0" src="https://img.shields.io/badge/-Duplicate%20Space-blue?labelColor=white&style=flat&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAP5JREFUOE+lk7FqAkEURY+ltunEgFXS2sZGIbXfEPdLlnxJyDdYB62sbbUKpLbVNhyYFzbrrA74YJlh9r079973psed0cvUD4A+4HoCjsA85X0Dfn/RBLBgBDxnQPfAEJgBY+A9gALA4tcbamSzS4xq4FOQAJgCDwV2CPKV8tZAJcAjMMkUe1vX+U+SMhfAJEHasQIWmXNN3abzDwHUrgcRGmYcgKe0bxrblHEB4E/pndMazNpSZGcsZdBlYJcEL9Afo75molJyM2FxmPgmgPqlWNLGfwZGG6UiyEvLzHYDmoPkDDiNm9JR9uboiONcBXrpY1qmgs21x1QwyZcpvxt9NS09PlsPAAAAAElFTkSuQmCC&logoWidth=14" alt="Duplicate Space"></a></p> 
<p dir="auto">📝 How to add private model or embed? 📺 Tutorial Video: <a href="https://youtu.be/jpxWRMino6c" style="target=" _blank"="">https://youtu.be/jpxWRMino6c</a> 🐣 Please follow me for new updates <a href="https://twitter.com/camenduru" style="target=" _blank"="">https://twitter.com/camenduru</a> </p>
</div>
''')
                else:
                    gr.HTML(f'''
<div class="gr-prose" style="max-width: 80%">
<p><strong>TIP</strong>: It is running on a GPU 🔥, you can <a href="https://huggingface.co/spaces/{os.environ['SPACE_ID']}/settings" style="text-decoration: underline" target="_blank">don't forget to remove the GPU attribution</a> once your are done playing with it</p>
<p align="center"><a href="https://github.com/THUDM/ImageReward">Github Repo</a> • 🤗 <a href="https://huggingface.co/THUDM/ImageReward" target="_blank">HF Repo</a> • 🐦 <a href="https://twitter.com/thukeg" target="_blank">Twitter</a> • 📃 <a href="https://arxiv.org/abs/2304.05977" target="_blank">Paper</a><br></p>
<p dir="auto">ImageReward is the first general-purpose text-to-image <strong>human preference RM</strong>, which is trained on in total <strong>137k pairs of expert comparisons</strong>!</p>
<br>
<p dir="auto">Try ImageReward in SD Web UI with only 2 steps:</p>
<ol dir="auto">
<li>Select <strong>"ImageReward - generate human preference scores"</strong> from the <strong>"Script"</strong> dropdown menu in the lower left corner.</li>
<li>Click the <strong>"Generate"</strong> button to generate images.</li>
</ol>
<p dir="auto">After generation finishes, check the ImageReward at the <strong>bottom</strong> of the image information <strong>below the gallery</strong>.</p>
<br>
<p dir="auto">For more details about using ImageReward in your program or your own SD Web UI, check <a href="https://github.com/THUDM/ImageReward">the README.md in our Github Repo</a></p>
<br>
<p dir="auto">This Space demo is based on <a href="https://huggingface.co/spaces/camenduru/webui">camenderu/webui</a>, running model: Linaqruf/anything-v3.0</p>
<p dir="auto">You can duplicate this Space to run it privately without a queue and load additional checkpoints.&nbsp;&nbsp;<a class="duplicate-button" style="display:inline-block" target="_blank" href="https://huggingface.co/spaces/{os.environ['SPACE_ID']}?duplicate=true"><img style="margin: 0" src="https://img.shields.io/badge/-Duplicate%20Space-blue?labelColor=white&style=flat&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAP5JREFUOE+lk7FqAkEURY+ltunEgFXS2sZGIbXfEPdLlnxJyDdYB62sbbUKpLbVNhyYFzbrrA74YJlh9r079973psed0cvUD4A+4HoCjsA85X0Dfn/RBLBgBDxnQPfAEJgBY+A9gALA4tcbamSzS4xq4FOQAJgCDwV2CPKV8tZAJcAjMMkUe1vX+U+SMhfAJEHasQIWmXNN3abzDwHUrgcRGmYcgKe0bxrblHEB4E/pndMazNpSZGcsZdBlYJcEL9Afo75molJyM2FxmPgmgPqlWNLGfwZGG6UiyEvLzHYDmoPkDDiNm9JR9uboiONcBXrpY1qmgs21x1QwyZcpvxt9NS09PlsPAAAAAElFTkSuQmCC&logoWidth=14" alt="Duplicate Space"></a></p> 
<p dir="auto">📝 How to add private model or embed? 📺 Tutorial Video: <a href="https://youtu.be/jpxWRMino6c" style="target=" _blank"="">https://youtu.be/jpxWRMino6c</a> 🐣 Please follow me for new updates <a href="https://twitter.com/camenduru" style="target=" _blank"="">https://twitter.com/camenduru</a> </p>
</div>
''')
